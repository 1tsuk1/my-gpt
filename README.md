# Copilot PR レビュープロンプト指示（Streamlit アプリ用）

このリポジトリでは、Python および Streamlit を使った Web アプリケーションを開発しています。  
以下の指示は、Pull Request のコードレビュー時に GitHub Copilot に適切なレビューコメントを生成させるためのガイドラインです。

---

## 🎯 Copilot に求めるレビュー観点

Copilot には以下の観点でレビューコメントを行ってください。

### ✅ Streamlit に関するレビュー項目

- UI部品（`st.sidebar`, `st.selectbox`, `st.file_uploader` など）が適切に使用されているか
- `st.session_state` の適切な使用と状態管理が行われているか
- 不要な再実行やレンダリングの無駄が発生していないか（`st.form`, `@st.cache_data` の活用）
- レイアウト（`st.columns`, `st.container`など）の過不足、可読性に問題がないか
- UIコンポーネントと処理ロジックが適切に分離されているか（肥大化した関数の分割提案）

### ✅ Pythonコードの一般的なレビュー項目

- PEP8 に準拠した読みやすいコードスタイルか
- 変数名・関数名が意味を持っているか
- 適切なエラーハンドリングがされているか（例：ファイル読み込みやAPI処理時）
- 不要なコードやコメントが残っていないか
- 再利用可能な処理が関数化・モジュール化されているか

---

## 🚫 Copilot に避けてほしいレビューコメント

- Streamlit とは関係のない他フレームワーク（Flask, Djangoなど）の知識に基づく指摘
- CLI アプリ向けの視点（`input()`, `print()`）を前提とした提案
- 主観的すぎる表現（例：「この書き方は好きじゃない」など）
- 意図が明確でないあいまいな指摘

---

## 💡 コメント文のスタイル例

### 良い例（推奨される形式）

- 「この関数は複雑なので、役割ごとに分割することを検討してください」
- 「`st.session_state` を使うことで状態管理を明示できます」
- 「このループは `@st.cache_data` を使ってキャッシュすると、再実行時のパフォーマンスが向上します」
- 「このファイルは 300 行を超えており、機能ごとにモジュールを分割するのが望ましいです」

### 悪い例（避けるべき形式）

- 「何か変だと思います」
- 「Flaskだとこうするけどなあ」
- 「別の方法もあります（詳細なし）」
- 「まあいいんじゃないですか」

---

## 📘 Copilot への一言メッセージ

> このリポジトリは Streamlit を使った Web アプリケーションです。  
> PR のレビューでは、UI構成・状態管理・再実行の制御・レイアウト・コードスタイルに注目して、**客観的かつ建設的なレビューコメントを提案してください。**  
> なお、Streamlit の特性を理解し、それに合ったアドバイスを優先してください。


